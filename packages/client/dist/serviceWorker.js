const r=self,s="tanchiki-cache-1",E=["/","/index.html"],o=["document","script","style","font","image","audio","manifest"],i=`
  <h1>\u0418\u043D\u0442\u0435\u0440\u043D\u0435\u0442\u044B \u0443\u043F\u0430\u043B\u0438! \u041D\u043E \u044D\u0442\u043E \u043D\u0435\u0442\u043E\u0447\u043D\u043E.</h1>
  <h2>\u041D\u0430\u0434\u043E \u0431\u044B \u043E\u0431\u043D\u043E\u0432\u0438\u0442\u044C \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0443...</h2>
`,c={headers:{"Content-Type":"text/html; charset=utf-8"}};r.addEventListener("install",u=>{u.waitUntil(caches.open(s).then(t=>t.addAll(E)).then(()=>{r.skipWaiting()}))});r.addEventListener("activate",u=>{u.waitUntil(r.clients.claim())});r.addEventListener("fetch",u=>{!o.includes(u.request.destination)||!u.request.url.match(/^http/)||u.respondWith(caches.open(s).then(t=>t.match(u.request).then(e=>{const h=fetch(u.request).then(n=>(n.status===200&&t.put(u.request,n.clone()).catch(l=>{}),n)).catch(n=>e!=null?e:new Response(i,c)),a=u.request.destination==="document";return e&&!a?e:h})).catch(t=>new Response(i,c)))});
